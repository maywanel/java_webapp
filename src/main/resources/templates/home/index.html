<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageTurner Books</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <style>
        :root {
            --bg-start: #2b1055;
            --bg-end: #7597de;
            --card-bg: rgba(255, 255, 255, 0.12);
            --accent: #ffb347;
            --accent-2: #a8d8f0;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            background: #02030a;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 15px;
            color: white;
            overflow-x: hidden;
        }

        body > * {
            position: relative;
            z-index: 1;
        }

        #space-bg {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        .container {
            width: 100%;
            max-width: 1100px;
            background: rgba(10, 10, 25, 0.55);
            border-radius: 28px;
            padding: 50px;
            box-shadow: 0 25px 60px rgba(15, 12, 41, 0.55);
            backdrop-filter: blur(20px);
        }
        header {
            text-align: center;
            margin-bottom: 45px;
        }
        header h1 {
            font-size: clamp(2.2rem, 4vw, 3rem);
            letter-spacing: 1px;
            margin-bottom: 15px;
        }
        header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }
        .bookshelf {
            position: relative;
            border-radius: 20px;
            padding: 35px;
            background: linear-gradient(125deg, rgba(255, 255, 255, 0.15), rgba(10, 10, 25, 0.5));
            margin-bottom: 40px;
            overflow: hidden;
        }
        .bookshelf::after {
            content: '';
            position: absolute;
            inset: 0;
            background: url('https://www.transparenttextures.com/patterns/wood-pattern.png');
            opacity: 0.08;
        }
        .shelf-rows {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 25px;
            position: relative;
            z-index: 1;
        }
        .book-spine {
            height: 170px;
            border-radius: 12px;
            background: linear-gradient(160deg, rgba(168, 216, 240, 0.9), rgba(118, 75, 162, 0.9));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.2), 0 15px 25px rgba(0, 0, 0, 0.25);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .book-spine:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 35px rgba(0, 0, 0, 0.35);
        }
        .section-title {
            font-size: 1.6rem;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-2);
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
        }
        .feature-card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 25px;
            transition: transform 0.3s ease, border 0.3s ease;
            backdrop-filter: blur(8px);
        }
        .feature-card:hover {
            transform: translateY(-6px);
            border: 1px solid rgba(255, 255, 255, 0.35);
        }
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }
        .collection-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 12px;
        }
        .collection-chip {
            padding: 8px 16px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.16);
            border: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: center;
            margin-top: 45px;
        }
        .btn {
            border: none;
            border-radius: 12px;
            padding: 14px 32px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--accent) 0%, #ffcc33 100%);
            color: #2b1055;
            box-shadow: 0 12px 30px rgba(255, 179, 71, 0.4);
        }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.14);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-primary:hover,
        .btn-secondary:hover {
            transform: translateY(-4px);
            box-shadow: 0 18px 30px rgba(0, 0, 0, 0.25);
        }
        .badge {
            font-size: 0.7rem;
            text-transform: uppercase;
            background: rgba(255, 255, 255, 0.18);
            padding: 3px 10px;
            border-radius: 999px;
            margin-left: 6px;
            letter-spacing: 1px;
        }
        @media (max-width: 768px) {
            .container { padding: 30px 20px; }
            .feature-card { padding: 20px; }
            .book-spine { height: 140px; }
        }

    </style>
</head>
<body>
    <canvas id="space-bg" aria-hidden="true"></canvas>
    <div class="container">
        <header>
            <h1 th:text="${message}">Welcome to PageTurner Books</h1>
            <p>Discover limited editions, trending releases, and curated picks tailored to your reading journey.</p>
        </header>

        <section class="bookshelf">
            <div class="section-title">üìö Featured Shelf</div>
            <div class="shelf-rows">
                <div class="book-spine" style="background: linear-gradient(160deg,#ffb347,#ffcc33);">New In</div>
                <div class="book-spine" style="background: linear-gradient(160deg,#a8d8f0,#7cc7e8);">Sci-Fi</div>
                <div class="book-spine" style="background: linear-gradient(160deg,#ff6f91,#ff9671);">Romance</div>
                <div class="book-spine" style="background: linear-gradient(160deg,#845ec2,#d65db1);">Mystery</div>
                <div class="book-spine" style="background: linear-gradient(160deg,#f9f871,#f6d365);">Classics</div>
            </div>
        </section>

        <section>
            <div class="section-title">‚ú® Curated Collections</div>
            <div class="collection-list">
                <span class="collection-chip">Award Winners</span>
                <span class="collection-chip">Indie Voices</span>
                <span class="collection-chip">Young Adult</span>
                <span class="collection-chip">Wellness & Mindfulness</span>
                <span class="collection-chip">Business Must-Reads</span>
                <span class="collection-chip">Author Spotlights</span>
            </div>
        </section>

        <section style="margin-top: 35px;">
            <div class="section-title">üî• This Week‚Äôs Highlights</div>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üåô</div>
                    <h3>Midnight Releases</h3>
                    <p>Pre-order upcoming titles and receive exclusive signed inserts.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí°</div>
                    <h3>Staff Picks</h3>
                    <p>Handpicked recommendations from the PageTurner curation team.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üöÄ</div>
                    <h3>Next-Gen Authors</h3>
                    <p>Spotlight on breakthrough storytellers redefining genres.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéß</div>
                    <h3>Audio Escapes</h3>
                    <p>Immersive audiobooks with synchronized notes and reading lists.</p>
                </div>
            </div>
        </section>

        <div class="action-buttons">
            <a href="/orders" class="btn btn-secondary">
                <span>üì¶</span>
                <span>Manage Orders</span>
            </a>
            <a href="/settings" class="btn btn-secondary">
                <span>‚öôÔ∏è</span>
                <span>Settings</span>
            </a>
            <a href="/login" class="btn btn-secondary" onclick="logout(event)">
                <span>üö™</span>
                <span>Logout</span>
            </a>
            <a href="/admin" class="btn btn-primary admin-btn" th:classappend="${isAdmin} ? ' is-admin' : ''">
                <span>üëë</span>
                <span>Admin Desk</span>
                <span class="badge" th:if="${isAdmin}">VIP</span>
            </a>
        </div>
    </div>

    <script>
        function logout(event) {
            event.preventDefault();
            fetch('/users/logout', { method: 'POST', headers: { 'Content-Type': 'application/json' } })
                .finally(() => {
                    sessionStorage.removeItem('currentUser');
                    localStorage.removeItem('userEmail');
                    window.location.href = '/login';
                });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.158/build/three.min.js"></script>
    <script src="/js/space-bg.js"></script>
</body>
</html>